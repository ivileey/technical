# Java基础

## 1.Java的8种基本类型

- boolean 1位
- byte 1字节8位
- short 2字节 16位
- char 2字节 16位
- int 4字节 32位
- float 4字节 32位

- double 8字节 64位
- long 8字节 64位

## 2.jdk1.8/jdk1.7都分别新增了哪些特性



## 3.Exception和Error

Error类一般是指与虚拟机相关的问题，如系统崩溃，虚拟机错误，内存空间不足，方法调用栈溢等。对于这类错误的导致的应用程序中断，仅靠程序本身无法恢复和预防，遇到这样的错误，建议让程序终止。

Exception类表示程序可以处理的异常，可以捕获且可能恢复。遇到这类异常，应该尽可能处理异常，使程序恢复运行，而不应该随意终止异常。

Exception又分为运行时异常，编译能通过一旦运行则终止。受检查的异常，要么try/catch捕获要么throw抛出。

## 4.String，StringBuffer，StringBuilder的区别

String类长度是不可变的，StringBuffer和StringBuilder类长度是可以改变的；

StringBuffer类是线程安全的，StringBuilder不是线程安全的；

需要经常改变字符串不要用String，String对象的拼接实际是StringBuffer对象的拼接。

StringBuilder在方法内部完成“+”的操作，StringBuffer在全局变量。

## 5.replace和replaceAll的区别

replace是基于字符的替换，replaceAll是基于正则表达式的替换。

## 6.C++多态和java多态实现有什么不同点？

## OS

### 1.进程和线程的区别？

Ⅰ 拥有资源

进程是资源分配的基本单位，但是线程不拥有资源，线程可以访问隶属进程的资源。

Ⅱ 调度

线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。

Ⅲ 系统开销

由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、I/O 设备等，所付出的开销远大于创建或撤销线程时的开销。类似地，在进行进程切换时，涉及当前执行进程 CPU 环境的保存及新调度进程 CPU 环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。

Ⅳ 通信方面

线程间可以通过直接读写同一进程中的数据进行通信，但是进程通信需要借助 IPC。

### 2.进程间通信的方式？

1. 管道，fd[0]用于读,fd[1]用于写

   只支持半双工通信，只能在父子或兄弟进程中使用

2. FIFO，命名管道，去除了管道只能在父子进程中使用的限制

3. 消息队列

   - 消息队列可以独立于读写进程存在，从而避免了 FIFO 中同步管道的打开和关闭时可能产生的困难；
   - 避免了 FIFO 的同步阻塞问题，不需要进程自己提供同步方法；
   - 读进程可以根据消息类型有选择地接收消息，而不像 FIFO 那样只能默认地接收。

4. 信号量：一个计数器，用于为多个进程提供对共享数据对象的访问。

5. 共享存储：

   允许多个进程共享一个给定的存储区。因为数据不需要在进程之间复制，所以这是最快的一种 IPC。

   需要使用信号量用来同步对共享存储的访问。

   多个进程可以将同一个文件映射到它们的地址空间从而实现共享内存。另外 XSI 共享内存不是使用文件，而是使用内存的匿名段。

6. 套接字：可用于不同机器间的进程通信。

## 3.进程上下文切换会做什么（保存哪些内容，存储在什么地方）

先把前一个进程的CPU上下文（CPU寄存器和程序计数器）保存起来，然后加载新任务的上下文到这些寄存器和程序计数器，最后再跳到程序计数器所指的新位置，运行新任务。

而这些保存下来的上下文，会存储在系统内核中，并在任务重新调度执行时再次加载进来。这样就能保证任务原来的状态不受影响，让任务看起来还是连续运行。

## 4.进程地址空间

**程序段(Text):**程序代码在内存中的映射，存放函数体的二进制代码。

***初始化过的数据(Data)\**:**在程序运行初已经对变量进行初始化的数据。

***\*未初始化过的数据(BSS)\**:**在程序运行初未对变量进行初始化的数据。

***\*栈\** \**\*\*(Stack)\*\*:\****存储局部、临时变量，函数调用时，存储函数的返回指针，用于控制函数的调用和返回。在程序块开始时自动分配内存,结束时自动释放内存，其操作方式类似于数据结构中的栈。

***\*堆 (Heap)\**\**:\****存储动态内存分配,需要程序员手工分配,手工释放.注意它与数据结构中的堆是两回事，分配方式类似于链表。

## 5.线程共享进程中的哪些资源

堆内存的中的内容

b. 全局变量 它是与具体某一函数无关的，所以也与特定线程无关；因此也是共享的

c. 静态变量 虽然对于局部变量来说，它在代码中是“放”在某一函数中的，但是其存放位置和全局变量一样，存于堆中开辟的.bss和.data段，是共享的

d. 文件等公用资源  这个是共享的，使用这些公共资源的线程必须同步。Win32 提供了几种同步资源的方式，包括信号、临界区、事件和互斥体。

## 6.linux常用命令

- cat /proc/cpuinfo 查看cpu命令
- top 查看内存 cat /proc/meminfo

## 参考文献

1.[进程上下文切换](https://zhuanlan.zhihu.com/p/52845869)
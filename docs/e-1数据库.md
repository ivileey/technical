#  Mysql

## MySQL的存储引擎选择
- 不要多说，选InnoDB
## 选择优化的数据类型
- 更小的通常更好
- 简单就好
- 尽量避免NULL
### 整数类型
- TINYINT,SMALLINT,MEDIUMINT,INT,BIGINT
- 分别是8，16，24，32，64位
- UNSIGNED属性，表示不允许负值，正数上限范围提高一倍
- MySQL可以为整数类型指定宽度INT（11），对大多数应用这是没有意义的，不会限制值的合法范围，只是规定了显示字符的个数。
### 实数类型
- DECIMAL用于存储精确的浮点数，是在MYSQL服务器实现的，不是CPU，因此性能低下
- FLOAT和DOUBLE是不精确的
- 可以使用BIGINT乘上相应的倍数来代替，DECIMAL

### 字符串类型
- VARCHAR和CHAR
-  存储在磁盘和内存中的方式和使用的存储引擎有关
- VARCHAR用于存储可变长字符串，需要使用1或2个额外的字节记录字符串的长度。
- CHAR 定长字符串。

### 使用枚举(ENUM)代替字符串类型

### 日期和时间类型
- DATETIME能保存大范围的值
- TIMESTAMP 只使用4个字节的存储空间，通常尽量使用TIMESTAMP，空间效率高

## 二叉树，B树，B+树

### B树的特点

B树相对于平衡二叉树的不同是，每个节点包含的关键字增多了，特别是在B树应用到数据库中的时候，数据库充分利用了磁盘块的原理（磁盘数据存储是采用块的形式存储的，每个块的大小为4K，每次IO进行数据读取时，同一个磁盘块的数据可以一次性读取出来）把节点大小限制和充分使用在磁盘快大小范围；把树的节点关键字增多后树的层级比原来的二叉树少了，减少数据查找的次数和复杂度;B树是多叉的。

### B+ 树

- B+跟B树不同B+树的**非叶子**节点不保存关键字记录的指针，只进行数据索引，这样使得B+树每个**非叶子**节点所能保存的关键字大大增加；
- B+**树的层级更少**：相较于B树B+每个**非叶子**节点存储的关键字数更多，树的层级更少所以查询数据更快；
- B+**树查询速度更稳定**：B+所有关键字数据地址都存在**叶子**节点上，所以每次查找的次数都相同所以查询速度要比B树更稳定;
- B+**树天然具备排序功能：**B+树所有的**叶子**节点数据构成了一个有序链表，在查询大小区间的数据时候更方便，数据紧密性很高，缓存的命中率也会比B树高。
- B+**树全节点遍历更快：**B+树遍历整棵树只需要遍历所有的**叶子**节点即可，，而不需要像B树一样需要对每一层进行遍历，这有利于数据库做全表扫描。
- **B树**相对于**B+树**的优点是，如果经常访问的数据离根节点很近，而**B树**的**非叶子**节点本身存有关键字其数据的地址，所以这种数据检索的时候会要比**B+树**快。

